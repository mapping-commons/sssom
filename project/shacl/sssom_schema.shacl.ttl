@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix pav: <http://purl.org/pav/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix sssom: <https://w3id.org/sssom/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

sssom:MappingRegistry a sh:NodeShape ;
    sh:closed true ;
    sh:description "A registry for managing mapping sets. It holds a set of mapping set references, and can import other registries." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class sssom:MappingSetReference ;
            sh:description "A list of mapping set references." ;
            sh:nodeKind sh:BlankNode ;
            sh:order 4 ;
            sh:path sssom:mapping_set_references ],
        [ sh:description "The description of a mapping registry." ;
            sh:maxCount 1 ;
            sh:order 2 ;
            sh:path sssom:mapping_registry_description ],
        [ sh:description "The title of a mapping registry." ;
            sh:maxCount 1 ;
            sh:order 1 ;
            sh:path sssom:mapping_registry_title ],
        [ sh:description "The unique identifier of a mapping registry." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path sssom:mapping_registry_id ],
        [ sh:description "A URL to a homepage of this mapping commons." ;
            sh:maxCount 1 ;
            sh:order 6 ;
            sh:path sssom:homepage ],
        [ sh:description "A list of registries that should be imported into this one." ;
            sh:order 3 ;
            sh:path sssom:imports ],
        [ sh:description "A URL to the documentation of this mapping commons." ;
            sh:maxCount 1 ;
            sh:order 5 ;
            sh:path sssom:documentation ] ;
    sh:targetClass sssom:MappingRegistry .

sssom:MappingSet a sh:NodeShape ;
    sh:closed true ;
    sh:description "Represents a set of mappings" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:description "URI of ontology source for the subject." ;
            sh:maxCount 1 ;
            sh:order 10 ;
            sh:path sssom:subject_source ],
        [ sh:description "The display name of a mapping set." ;
            sh:maxCount 1 ;
            sh:order 4 ;
            sh:path dcterms:title ],
        [ sh:description "Version IRI or version string of the source of the subject term." ;
            sh:maxCount 1 ;
            sh:order 11 ;
            sh:path sssom:subject_source_version ],
        [ sh:description "A string identifying the creator of this mapping. In the spirit of provenance, consider to use creator_id instead." ;
            sh:order 7 ;
            sh:path sssom:creator_label ],
        [ sh:description "A tuple of fields (term annotations on the subject) that was used for the match." ;
            sh:order 18 ;
            sh:path sssom:subject_match_field ],
        [ sh:description "A tuple of fields (term annotations on the object) that was used for the match." ;
            sh:order 19 ;
            sh:path sssom:object_match_field ],
        [ sh:description "A URL specific for the mapping instance. E.g. for kboom we have a per-mapping image that shows surrounding axioms that drive probability. Could also be a github issue URL that discussed a complicated alignment" ;
            sh:order 22 ;
            sh:path rdfs:seeAlso ],
        [ sh:description "A reference to the tool or algorithm that was used to generate the mapping. Should be a URL pointing to more info about it, but can be free text." ;
            sh:maxCount 1 ;
            sh:order 16 ;
            sh:path sssom:mapping_tool ],
        [ sh:description "A description of the mapping set." ;
            sh:maxCount 1 ;
            sh:order 5 ;
            sh:path dcterms:description ],
        [ sh:description "A mapping set or set of mapping set that was used to derive the mapping set." ;
            sh:order 3 ;
            sh:path prov:wasDerivedFrom ],
        [ sh:description "Pipe separated list of key value pairs for properties not part of the SSSOM spec. Can be used to encode additional provenance data." ;
            sh:maxCount 1 ;
            sh:order 23 ;
            sh:path sssom:other ],
        [ sh:description "Identifies the persons or groups responsible for the creation of the mapping. The creator is the agent that put the mapping in its published form, which may be different from the author, which is a person that was actively involved in the assertion of the mapping. Recommended to be a (pipe-separated) list of ORCIDs or otherwise identifying URLs, but any identifying string (such as name and affiliation) is permissible." ;
            sh:order 6 ;
            sh:path dcterms:creator ],
        [ sh:description "Free text field containing either curator notes or text generated by tool providing additional informative information." ;
            sh:maxCount 1 ;
            sh:order 24 ;
            sh:path rdfs:comment ],
        [ sh:description "Method of preprocessing applied to the fields of the object. If different preprocessing steps were performed on different fields, it is recommended to store the match in separate rows." ;
            sh:order 21 ;
            sh:path sssom:object_preprocessing ],
        [ sh:class owl:Axiom ;
            sh:description "Contains a list of mapping objects" ;
            sh:nodeKind sh:BlankNode ;
            sh:order 0 ;
            sh:path sssom:mappings ],
        [ sh:description "Method of preprocessing applied to the fields of the subject. If different preprocessing steps were performed on different fields, it is recommended to store the match in separate rows." ;
            sh:order 20 ;
            sh:path sssom:subject_preprocessing ],
        [ sh:description "A url to the license of the mapping. In absence of a license we assume no license." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 8 ;
            sh:path dcterms:license ],
        [ sh:description "URL pointing to the source that provided the mapping, for example an ontology that already contains the mappings, or a database from which it was derived." ;
            sh:maxCount 1 ;
            sh:order 15 ;
            sh:path sssom:mapping_provider ],
        [ sh:description "Version IRI or version string of the source of the object term." ;
            sh:maxCount 1 ;
            sh:order 14 ;
            sh:path sssom:object_source_version ],
        [ sh:description "IRI of ontology source for the object. Version IRI preferred." ;
            sh:maxCount 1 ;
            sh:order 13 ;
            sh:path sssom:object_source ],
        [ sh:description "A globally unique identifier for the mapping set (not each individual mapping). Should be IRI, ideally resolvable." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 1 ;
            sh:path sssom:mapping_set_id ],
        [ sh:description "A version string for the mapping." ;
            sh:maxCount 1 ;
            sh:order 2 ;
            sh:path owl:versionInfo ],
        [ sh:description "The date the mapping was asserted. This is different from the date the mapping was published or compiled in a SSSOM file." ;
            sh:maxCount 1 ;
            sh:order 17 ;
            sh:path pav:authoredOn ],
        [ sh:description "The type of entity that is being mapped." ;
            sh:in ( owl:Class owl:ObjectProperty owl:DataProperty owl:AnnotationProperty owl:NamedIndividual skos:Concept rdfs:Resource rdfs:Class rdfs:Literal rdfs:Datatype rdf:Property ) ;
            sh:maxCount 1 ;
            sh:order 9 ;
            sh:path sssom:subject_type ],
        [ sh:description "The type of entity that is being mapped." ;
            sh:in ( owl:Class owl:ObjectProperty owl:DataProperty owl:AnnotationProperty owl:NamedIndividual skos:Concept rdfs:Resource rdfs:Class rdfs:Literal rdfs:Datatype rdf:Property ) ;
            sh:maxCount 1 ;
            sh:order 12 ;
            sh:path sssom:object_type ] ;
    sh:targetClass sssom:MappingSet .

owl:Axiom a sh:NodeShape ;
    sh:closed true ;
    sh:description "Represents an individual mapping between a pair of entities" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:description "The conceptual category to which the subject belongs to. This can be a string denoting the category or a term from a controlled vocabulary. This slot is deliberately underspecified. Conceptual categories can range from those that are found in general upper ontologies such as BFO (e.g. process, temporal region, etc) to those that serve as upper ontologies in specific domains, such as COB or BioLink (e.g. gene, disease, chemical entity). The purpose of this optional field is documentation for human reviewers - when a category is known and documented clearly, the cost of interpreting and evaluating the mapping decreases." ;
            sh:maxCount 1 ;
            sh:order 2 ;
            sh:path sssom:subject_category ],
        [ sh:description "URI of ontology source for the subject." ;
            sh:maxCount 1 ;
            sh:order 18 ;
            sh:path sssom:subject_source ],
        [ sh:description "Version IRI or version string of the source of the subject term." ;
            sh:maxCount 1 ;
            sh:order 19 ;
            sh:path sssom:subject_source_version ],
        [ sh:description "The date the mapping was asserted. This is different from the date the mapping was published or compiled in a SSSOM file." ;
            sh:maxCount 1 ;
            sh:order 28 ;
            sh:path pav:authoredOn ],
        [ sh:description "Pipe separated list of key value pairs for properties not part of the SSSOM spec. Can be used to encode additional provenance data." ;
            sh:maxCount 1 ;
            sh:order 40 ;
            sh:path sssom:other ],
        [ sh:description "Free text field containing either curator notes or text generated by tool providing additional informative information." ;
            sh:maxCount 1 ;
            sh:order 41 ;
            sh:path rdfs:comment ],
        [ sh:description "The type of entity that is being mapped." ;
            sh:in ( owl:Class owl:ObjectProperty owl:DataProperty owl:AnnotationProperty owl:NamedIndividual skos:Concept rdfs:Resource rdfs:Class rdfs:Literal rdfs:Datatype rdf:Property ) ;
            sh:maxCount 1 ;
            sh:order 20 ;
            sh:path sssom:object_type ],
        [ sh:description "A curation rule is a (potentially) complex condition executed by an agent that led to the establishment of a mapping. Curation rules often involve complex domain-specific considerations, which are hard to capture in an automated fashion. The curation rule should be captured as a resource (entity reference) rather than a string (see curation_rule element), which enables higher levels of transparency and sharing across mapping sets. The textual representation of curation rule is intended to be used in cases where (1) the creation of a resource is not practical from the perspective of the mapping_provider and (2) as an additional piece of metadata to augment the curation_rule element with a human readable text." ;
            sh:order 31 ;
            sh:path sssom:curation_rule_text ],
        [ sh:description "A mapping justification is an action (or the written representation of that action) of showing a mapping to be right or reasonable." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 9 ;
            sh:path sssom:mapping_justification ;
            sh:pattern "^semapv:(MappingReview|ManualMappingCuration|LogicalReasoning|LexicalMatching|CompositeMatching|UnspecifiedMatching|SemanticSimilarityThresholdMatching|LexicalSimilarityThresholdMatching|MappingChaining)$" ],
        [ sh:description "A string indicating whether this mapping is from a 1:1 (the subject_id maps to a single object_id), 1:n (the subject maps to more than one object_id), n:1, 1:0, 0:1 or n:n group. Note that this is a convenience field that should be derivable from the mapping set." ;
            sh:in ( "1:1" "1:n" "n:1" "1:0" "0:1" "n:n" ) ;
            sh:maxCount 1 ;
            sh:order 25 ;
            sh:path sssom:mapping_cardinality ],
        [ sh:description "The ID of the object of the mapping." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 6 ;
            sh:path owl:annotatedTarget ],
        [ sh:description "The label of the predicate/relation of the mapping" ;
            sh:maxCount 1 ;
            sh:order 4 ;
            sh:path sssom:predicate_label ],
        [ sh:description "IRI of ontology source for the object. Version IRI preferred." ;
            sh:maxCount 1 ;
            sh:order 21 ;
            sh:path sssom:object_source ],
        [ sh:description "The ID of the predicate or relation that relates the subject and object of this match." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 3 ;
            sh:path owl:annotatedProperty ],
        [ sh:description "A reference to the tool or algorithm that was used to generate the mapping. Should be a URL pointing to more info about it, but can be free text." ;
            sh:maxCount 1 ;
            sh:order 26 ;
            sh:path sssom:mapping_tool ],
        [ sh:description "Method of preprocessing applied to the fields of the subject. If different preprocessing steps were performed on different fields, it is recommended to store the match in separate rows." ;
            sh:order 35 ;
            sh:path sssom:subject_preprocessing ],
        [ sh:description "The conceptual category to which the subject belongs to. This can be a string denoting the category or a term from a controlled vocabulary. This slot is deliberately underspecified. Conceptual categories can range from those that are found in general upper ontologies such as BFO (e.g. process, temporal region, etc) to those that serve as upper ontologies in specific domains, such as COB or BioLink (e.g. gene, disease, chemical entity). The purpose of this optional field is documentation for human reviewers - when a category is known and documented clearly, the cost of interpreting and evaluating the mapping decreases." ;
            sh:maxCount 1 ;
            sh:order 8 ;
            sh:path sssom:object_category ],
        [ sh:description "A string identifying the reviewer of this mapping. In the spirit of provenance, consider to use author_id instead." ;
            sh:order 13 ;
            sh:path sssom:reviewer_label ],
        [ sh:description "The label of object of the mapping" ;
            sh:maxCount 1 ;
            sh:order 7 ;
            sh:path sssom:object_label ],
        [ sh:description "A curation rule is a (potentially) complex condition executed by an agent that led to the establishment of a mapping. Curation rules often involve complex domain-specific considerations, which are hard to capture in an automated fashion. The curation rule is captured as a resource rather than a string, which enables higher levels of transparency and sharing across mapping sets. The URI representation of the curation rule is expected to be a resolvable identifier which provides details about the nature of the curation rule." ;
            sh:order 30 ;
            sh:path sssom:curation_rule ],
        [ sh:description "A URL specific for the mapping instance. E.g. for kboom we have a per-mapping image that shows surrounding axioms that drive probability. Could also be a github issue URL that discussed a complicated alignment" ;
            sh:order 39 ;
            sh:path rdfs:seeAlso ],
        [ sh:description "The ID of the subject of the mapping." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path owl:annotatedSource ],
        [ sh:description "A score between 0 and 1 to denote the confidence or probability that the match is correct, where 1 denotes total confidence." ;
            sh:maxCount 1 ;
            sh:order 29 ;
            sh:path sssom:confidence ],
        [ sh:description "A string identifying the author of this mapping. In the spirit of provenance, consider to use author_id instead." ;
            sh:order 11 ;
            sh:path sssom:author_label ],
        [ sh:description "Version string that denotes the version of the mapping tool used." ;
            sh:maxCount 1 ;
            sh:order 27 ;
            sh:path sssom:mapping_tool_version ],
        [ sh:description "A score between 0 and 1 to denote the semantic similarity, where 1 denotes equivalence." ;
            sh:maxCount 1 ;
            sh:order 37 ;
            sh:path sssom:semantic_similarity_score ],
        [ sh:description "Identifies the persons or groups responsible for the creation of the mapping. The creator is the agent that put the mapping in its published form, which may be different from the author, which is a person that was actively involved in the assertion of the mapping. Recommended to be a (pipe-separated) list of ORCIDs or otherwise identifying URLs, but any identifying string (such as name and affiliation) is permissible." ;
            sh:order 14 ;
            sh:path dcterms:creator ],
        [ sh:description "Method of preprocessing applied to the fields of the object. If different preprocessing steps were performed on different fields, it is recommended to store the match in separate rows." ;
            sh:order 36 ;
            sh:path sssom:object_preprocessing ],
        [ sh:description "Identifies the persons or groups responsible for asserting the mappings. Recommended to be a (pipe-separated) list of ORCIDs or otherwise identifying URLs, but any identifying string (such as name and affiliation) is permissible." ;
            sh:order 10 ;
            sh:path pav:authoredBy ],
        [ sh:description "A tuple of fields (term annotations on the subject) that was used for the match." ;
            sh:order 32 ;
            sh:path sssom:subject_match_field ],
        [ sh:description "A modifier for negating the prediate. See https://github.com/mapping-commons/sssom/issues/40 for discussion" ;
            sh:in ( "Not" ) ;
            sh:maxCount 1 ;
            sh:order 5 ;
            sh:path sssom:predicate_modifier ],
        [ sh:description "URL pointing to the source that provided the mapping, for example an ontology that already contains the mappings, or a database from which it was derived." ;
            sh:maxCount 1 ;
            sh:order 23 ;
            sh:path sssom:mapping_provider ],
        [ sh:description "A string identifying the creator of this mapping. In the spirit of provenance, consider to use creator_id instead." ;
            sh:order 15 ;
            sh:path sssom:creator_label ],
        [ sh:description "The label of subject of the mapping" ;
            sh:maxCount 1 ;
            sh:order 1 ;
            sh:path sssom:subject_label ],
        [ sh:description "Version IRI or version string of the source of the object term." ;
            sh:maxCount 1 ;
            sh:order 22 ;
            sh:path sssom:object_source_version ],
        [ sh:description "The measure used for computing the the semantic similarity score. To make processing this field as unambiguous as possible, we recommend using wikidata identifiers, but wikipedia pages could also be acceptable." ;
            sh:maxCount 1 ;
            sh:order 38 ;
            sh:path sssom:semantic_similarity_measure ],
        [ sh:description "The type of entity that is being mapped." ;
            sh:in ( owl:Class owl:ObjectProperty owl:DataProperty owl:AnnotationProperty owl:NamedIndividual skos:Concept rdfs:Resource rdfs:Class rdfs:Literal rdfs:Datatype rdf:Property ) ;
            sh:maxCount 1 ;
            sh:order 17 ;
            sh:path sssom:subject_type ],
        [ sh:description "A url to the license of the mapping. In absence of a license we assume no license." ;
            sh:maxCount 1 ;
            sh:order 16 ;
            sh:path dcterms:license ],
        [ sh:description "A tuple of fields (term annotations on the object) that was used for the match." ;
            sh:order 33 ;
            sh:path sssom:object_match_field ],
        [ sh:description "Strings that are shared by subj/obj. It is recommended to indicate the fields for the match using the object and subject_match_field slots." ;
            sh:order 34 ;
            sh:path sssom:match_string ],
        [ sh:description "Identifies the persons or groups that reviewed and confirmed the mapping. Recommended to be a (pipe-separated) list of ORCIDs or otherwise identifying URLs, but any identifying string (such as name and affiliation) is permissible." ;
            sh:order 12 ;
            sh:path sssom:reviewer_id ],
        [ sh:description "The mapping set this mapping was originally defined in. mapping_source is used for example when merging multiple mapping sets or deriving one mapping set from another." ;
            sh:maxCount 1 ;
            sh:order 24 ;
            sh:path sssom:mapping_source ] ;
    sh:targetClass owl:Axiom .

sssom:MappingSetReference a sh:NodeShape ;
    sh:closed true ;
    sh:description "A reference to a mapping set. It allows to augment mapping set metadata from the perspective of the registry, for example, providing confidence, or a local filename or a grouping." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:description "The date this reference was last updated." ;
            sh:maxCount 1 ;
            sh:order 4 ;
            sh:path sssom:last_updated ],
        [ sh:description "A URL location from which to obtain a resource, such as a mapping set." ;
            sh:maxCount 1 ;
            sh:order 1 ;
            sh:path sssom:mirror_from ],
        [ sh:description "This value is set by the registry that indexes the mapping set. It reflects the confidence the registry has in the correctness of the mappings in the mapping set." ;
            sh:maxCount 1 ;
            sh:order 2 ;
            sh:path sssom:registry_confidence ],
        [ sh:description "A globally unique identifier for the mapping set (not each individual mapping). Should be IRI, ideally resolvable." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path sssom:mapping_set_id ],
        [ sh:description "The local name assigned to file that corresponds to the downloaded mapping set." ;
            sh:maxCount 1 ;
            sh:order 5 ;
            sh:path sssom:local_name ],
        [ sh:description "Set by the owners of the mapping registry. A way to group ." ;
            sh:maxCount 1 ;
            sh:order 3 ;
            sh:path sssom:mapping_set_group ] ;
    sh:targetClass sssom:MappingSetReference .

