
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mapping-commons.github.io/sssom/tutorials/omop-mappings/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.9">
    
    
      
        <title>How to gradually enrich OMOP mappings with SSSOM - A Simple Standard for Sharing Ontology Mappings (SSSOM)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-gradually-enrich-omop-mappings-with-sssom" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="A Simple Standard for Sharing Ontology Mappings (SSSOM)" class="md-header__button md-logo" aria-label="A Simple Standard for Sharing Ontology Mappings (SSSOM)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            A Simple Standard for Sharing Ontology Mappings (SSSOM)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to gradually enrich OMOP mappings with SSSOM
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mapping-commons/sssom/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="A Simple Standard for Sharing Ontology Mappings (SSSOM)" class="md-nav__button md-logo" aria-label="A Simple Standard for Sharing Ontology Mappings (SSSOM)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    A Simple Standard for Sharing Ontology Mappings (SSSOM)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mapping-commons/sssom/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../home/" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        About SSSOM
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Specification
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../spec/" class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../credits/" class="md-nav__link">
        Credits
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        Contact us
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Resources for contributors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Resources for contributors" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Resources for contributors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        How to contribute?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../code_of_conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Resources for users
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Resources for users" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Resources for users
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1" type="checkbox" id="__nav_9_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9_1">
          Use cases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Use cases" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_1">
          <span class="md-nav__icon md-icon"></span>
          Use cases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usecases/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          How to gradually enrich OMOP mappings with SSSOM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        How to gradually enrich OMOP mappings with SSSOM
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-table-from-omop" class="md-nav__link">
    Example table from OMOP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-1-basic-mapping-table-basic-provenance" class="md-nav__link">
    Level 1, basic mapping table, basic provenance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-2-curate-semantic-mapping-predicate" class="md-nav__link">
    Level 2: Curate semantic mapping predicate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-3-document-confidence-widely" class="md-nav__link">
    Level 3: Document confidence widely
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-4-document-curation-rules" class="md-nav__link">
    Level 4: Document curation rules
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/" class="md-nav__link">
        Workshops
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../presentations/" class="md-nav__link">
        Presentations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        Basic Tutorial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../mapping-predicates/" class="md-nav__link">
        How to use mapping predicates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../mapping-commons/" class="md-nav__link">
        Set up a mapping registry/commons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chaining_rules/" class="md-nav__link">
        Overview of Chaining Rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../toolkit/" class="md-nav__link">
        A basic guide for the SSSOM toolkit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../5star-mappings/" class="md-nav__link">
        5-Star Entity Mappings - Cheatsheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../update/" class="md-nav__link">
        Update schema/context and release
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-table-from-omop" class="md-nav__link">
    Example table from OMOP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-1-basic-mapping-table-basic-provenance" class="md-nav__link">
    Level 1, basic mapping table, basic provenance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-2-curate-semantic-mapping-predicate" class="md-nav__link">
    Level 2: Curate semantic mapping predicate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-3-document-confidence-widely" class="md-nav__link">
    Level 3: Document confidence widely
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#level-4-document-curation-rules" class="md-nav__link">
    Level 4: Document curation rules
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/mapping-commons/sssom/edit/master/src/docs/tutorials/omop-mappings.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="how-to-gradually-enrich-omop-mappings-with-sssom">How to gradually enrich OMOP mappings with SSSOM</h1>
<p>This document is a guide for OMOP ETL developers to think about gradually improving the (documentation of the) strength of evidence for their vocabulary mappings.</p>
<h2 id="example-table-from-omop">Example table from OMOP</h2>
<p>Generated manually with Athena on the 20th July 2023. The start and end dates are invented.</p>
<table>
<thead>
<tr>
<th>concept_id_1</th>
<th>concept_id_2</th>
<th>relationship_id</th>
<th>valid_start_date</th>
<th>valid_end_date</th>
<th>invalid_reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>44499396</td>
<td>4028717</td>
<td>Maps to</td>
<td>19700101</td>
<td>20991231</td>
<td></td>
</tr>
<tr>
<td>45586281</td>
<td>4028717</td>
<td>Maps to</td>
<td>73754</td>
<td>20991231</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="level-1-basic-mapping-table-basic-provenance">Level 1, basic mapping table, basic provenance</h2>
<p>The SSSOM metadata provided is conceptually correct, but fictious. </p>
<p>The reader should imagine this being provided as a separate CONCEPT_MAPPINGS.CSV table that can be joined on <code>subject_id</code>-&gt;<code>concept_id_1</code>, <code>object_id</code>-&gt;<code>concept_id_2</code> for all rows with a <code>Maps to</code> <code>relationship_id</code> (this is assuming that the <code>concept_id_1</code>,<code>concept_id_2</code> tuple is unique for <code>Maps to</code>).</p>
<table>
<thead>
<tr>
<th>subject_id</th>
<th>object_id</th>
<th>predicate_id</th>
<th>mapping_provider</th>
<th>mapping_tool</th>
<th>mapping_tool_version</th>
<th>mapping_justification</th>
<th>reviewer_id</th>
<th>author_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>OMOP:44499396</td>
<td>OMOP:4028717</td>
<td>omoprel:mapsTo</td>
<td>OHDSI:Odysseus</td>
<td></td>
<td></td>
<td>semapv:ManualMappingCuration</td>
<td></td>
<td>ORCID:0000-0003-4147-1485</td>
</tr>
<tr>
<td>OMOP:45586281</td>
<td>OMOP:4028717</td>
<td>omoprel:mapsTo</td>
<td>OHDSI:Odysseus</td>
<td>OHDSI_TOOLS:Usagi</td>
<td>1.4.3</td>
<td>semapv:LexicalMatching</td>
<td>ORCID:0000-0003-4147-1485</td>
<td></td>
</tr>
<tr>
<td>OMOP:45610575</td>
<td>OMOP:441554</td>
<td>omoprel:mapsTo</td>
<td>OHDSI:UMLS</td>
<td></td>
<td></td>
<td>semapv:UnspecifiedMatching</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>What we see here:</p>
<ol>
<li>all identifiers are prefixed to make sure they are interpreted correctly when they are reused. This includes OMOP ids (e.g. <code>OMOP:44499396</code>) as well as ORCIDs (OPTIONAL)</li>
<li>"Maps to" is encoded using a proper identifier rather than a string (OPTIONAL)</li>
<li>All three mappings have a <code>mapping_justification</code> to distinguish for example if the mapping was determined by human manual curation (<code>semapv:ManualMappingCuration</code>) or lexical matching (<code>semapv:LexicalMatching</code>). Many other justifications exist and/or can be created. If the justification for the mapping is unknown, we can make our lack of knowledge transparent by using <code>semapv:UnspecifiedMatching</code>.</li>
<li><code>author_id</code>, in the case of <code>semapv:ManualMappingCuration</code>, tells us who the person is that determined the mapping. This is basic provenance. If the identity of the author can be connected with an public record such as ORCID, this can help mapping users to increase trust in a mapping. <code>reviewer_id</code> tells us that some human looked at the mapping after it was proposed by a tool, and "signed off" on it. This can be valueable, again, to increase trust.</li>
<li>If the match was generated by the tool, some basic provenance is added (<code>mapping_tool</code>, <code>mapping_tool_version</code>).</li>
</ol>
<h2 id="level-2-curate-semantic-mapping-predicate">Level 2: Curate semantic mapping predicate</h2>
<table>
<thead>
<tr>
<th>subject_id</th>
<th>object_id</th>
<th>predicate_id</th>
<th>mapping_provider</th>
<th>mapping_tool</th>
<th>mapping_tool_version</th>
<th>mapping_justification</th>
<th>reviewer_id</th>
<th>author_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>OMOP:44499396</td>
<td>OMOP:4028717</td>
<td>skos:broadMatch</td>
<td>OHDSI:Odysseus</td>
<td></td>
<td></td>
<td>semapv:ManualMappingCuration</td>
<td></td>
<td>ORCID:0000-0003-4147-1485</td>
</tr>
<tr>
<td>OMOP:45586281</td>
<td>OMOP:4028717</td>
<td>skos:exactMatch</td>
<td>OHDSI:Odysseus</td>
<td>OHDSI_TOOLS:Usagi</td>
<td>1.4.3</td>
<td>semapv:LexicalMatching</td>
<td>ORCID:0000-0003-4147-1485</td>
<td></td>
</tr>
<tr>
<td>OMOP:45610575</td>
<td>OMOP:441554</td>
<td>skos:exactMatch</td>
<td>OHDSI:UMLS</td>
<td></td>
<td></td>
<td>semapv:UnspecifiedMatching</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>What do we see here?</p>
<ol>
<li>Rather than <code>Maps to</code>, the mapping predicate (e.g. <code>skos:exactMatch</code>) is a semantic mapping predicate from a standardised vocabulary (<a href="https://www.w3.org/TR/skos-reference">SKOS</a>). Here, we distinguish between <code>skos:exactMatch</code> and <code>skos:broadMatch</code>, but there are other predicates, see for example in the <a href="https://github.com/mapping-commons/semantic-mapping-vocabulary/blob/main/semapv-properties.tsv">Semantic Mapping Vocabulary</a>.</li>
</ol>
<h2 id="level-3-document-confidence-widely">Level 3: Document confidence widely</h2>
<p><code>confidence</code> is an incredibly useful metric for downstream users, including ETL engineers and data analysts. In an ideal world, all mappings have some kind of <code>confidence</code> associated with them. <code>confidence</code> scores should be read as "the strength of evidence provided in this record/table row (i.e mapping justification) leads us to believe the mapping (e.g. <code>OMOP:44499396 --[skos:broadMatch]--&gt; OMOP:4028717</code>) is correct with 90% confidence.</p>
<table>
<thead>
<tr>
<th>subject_id</th>
<th>object_id</th>
<th>predicate_id</th>
<th>mapping_provider</th>
<th>mapping_tool</th>
<th>mapping_tool_version</th>
<th>mapping_justification</th>
<th>reviewer_id</th>
<th>author_id</th>
<th>confidence</th>
</tr>
</thead>
<tbody>
<tr>
<td>OMOP:44499396</td>
<td>OMOP:4028717</td>
<td>skos:broadMatch</td>
<td>OHDSI:Odysseus</td>
<td></td>
<td></td>
<td>semapv:ManualMappingCuration</td>
<td></td>
<td>ORCID:0000-0003-4147-1485</td>
<td>0.9</td>
</tr>
<tr>
<td>OMOP:45586281</td>
<td>OMOP:4028717</td>
<td>skos:exactMatch</td>
<td>OHDSI:Odysseus</td>
<td>OHDSI_TOOLS:Usagi</td>
<td>1.4.3</td>
<td>semapv:LexicalMatching</td>
<td>ORCID:0000-0003-4147-1485</td>
<td>0.8</td>
<td></td>
</tr>
<tr>
<td>OMOP:45610575</td>
<td>OMOP:441554</td>
<td>skos:exactMatch</td>
<td>OHDSI:UMLS</td>
<td></td>
<td></td>
<td>semapv:UnspecifiedMatching</td>
<td></td>
<td></td>
<td>0.6</td>
</tr>
</tbody>
</table>
<p>What do we see here?</p>
<ul>
<li>For matching tools, confidence can be calculated by proxies such as "lexical similarity", "edit distance", "cosine similarity of node embedding" and other metrics. IN the example above, Usagi has determined that the subject and objects match, but it was only 80% sure (we dont know why - this is <a href="mapping-justifications.md">more advance SSSOM</a>)</li>
<li>For case where an external mapping is re-used using ETL, <code>confidence</code> describes the level of trust you as an ETL expert have in the fidelty of the mapping provided by the source.</li>
</ul>
<h2 id="level-4-document-curation-rules">Level 4: Document curation rules</h2>
<table>
<thead>
<tr>
<th>subject_id</th>
<th>object_id</th>
<th>predicate_id</th>
<th>mapping_provider</th>
<th>mapping_tool</th>
<th>mapping_tool_version</th>
<th>mapping_justification</th>
<th>reviewer_id</th>
<th>author_id</th>
<th>confidence</th>
<th>curation_rule</th>
</tr>
</thead>
<tbody>
<tr>
<td>OMOP:44499396</td>
<td>OMOP:4028717</td>
<td>skos:broadMatch</td>
<td>OHDSI:Odysseus</td>
<td></td>
<td></td>
<td>semapv:ManualMappingCuration</td>
<td></td>
<td>ORCID:0000-0003-4147-1485</td>
<td>0.9</td>
<td>OHDSI_CURATION_RULE:19</td>
</tr>
</tbody>
</table>
<p>What do we see here?</p>
<ul>
<li>For manual matches, it is often unclear by what criteria a match was established. Documenting the curation rules can help increasing consistency for manual curation, and transparency for downstream users.</li>
<li><code>OHDSI_CURATION_RULE:19</code> is a rule defined by your own curation rulebook. This can be <em>anything</em>. For example <code>OHDSI_CURATION_RULE:19</code> could correspond to the following rule: </li>
</ul>
<pre><code>OHDSI_CURATION_RULE:19 = If the subject concept does not have an exact match in the object source vocabulary, we select the nearest broad (&quot;up-hill&quot;) concept applicable. Conceptually, if both terms would exist in the same terminology, the subject concept can be defined as a subconcept of the object concept. The determination for both criteria (nearest broad, conceptally subconcept) is performed through medical expert judgement.
</code></pre>

              
            </article>
            
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../usecases/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Overview" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Overview
            </div>
          </div>
        </a>
      
      
        
        <a href="../../workshops/" class="md-footer__link md-footer__link--next" aria-label="Next: Workshops" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Workshops
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>